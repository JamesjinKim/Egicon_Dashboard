# Mac PC에서 EZ-Dash 테스트 가이드

## 🍎 Mac에서 센서 없이 테스트하기

실제 I2C 센서가 연결되지 않은 Mac PC에서도 **모킹 모드**를 사용하여 설정 페이지 기능을 테스트할 수 있습니다.

### 📋 사전 요구사항
```bash
pip install flask flask-cors smbus2 sqlite3
```

### 🚀 모킹 모드로 실행하기

```bash
# 환경 변수를 설정하여 모킹 모드 활성화
export EZDASH_MOCK_MODE=true

# 서버 실행
python sensor_api_simple.py
```

### 🔧 모킹 모드에서 제공되는 기능

#### 1. **가상 I2C 버스 연결**
- 버스 0, 1이 자동으로 연결됨
- 실제 하드웨어 없이도 정상 동작

#### 2. **가상 센서 디바이스**
- **버스 0**: `0x76`, `0x77` (BME688 환경센서)
- **버스 1**: `0x23`, `0x5C` (BH1750 조도센서, SHT40 온습도센서)

#### 3. **가상 센서 테스트 데이터**
| 센서 | 주소 | 테스트 데이터 |
|------|------|---------------|
| SHT40 | 0x44, 0x5C | 온도: 20-25°C, 습도: 40-60%RH |
| BH1750 | 0x23 | 조도: 100-500 lux |
| BME688 | 0x76, 0x77 | 칩 ID: 0x61, 연결 상태 |

### 🌐 웹 인터페이스 테스트

1. **브라우저에서 접속**: `http://localhost:5002`
2. **설정 페이지로 이동**: 사이드바 → "설정"
3. **I2C 스캔 실행**: "스캔 시작" 버튼 클릭
4. **센서 테스트**: 발견된 디바이스의 "테스트" 버튼 클릭
5. **센서 등록**: 새로운 센서 등록 폼 사용

### 🔄 정상 모드로 복원

```bash
# 환경 변수 해제
unset EZDASH_MOCK_MODE

# 또는
export EZDASH_MOCK_MODE=false

# 서버 재실행
python sensor_api_simple.py
```

### 📊 예상 결과

#### 모킹 모드 활성화 시:
```
🔧 모킹 모드: 가상 I2C 버스 연결
🔧 모킹 모드: 버스 0 가상 스캔
🔧 버스 0 가상 스캔 완료: 2개 발견 ['0x76', '0x77']
🔧 모킹 모드: 버스 1 가상 스캔  
🔧 버스 1 가상 스캔 완료: 2개 발견 ['0x23', '0x5C']
```

#### 정상 모드 (센서 없음) 시:
```
I2C 버스 0 연결 실패: [Errno 2] No such file or directory
I2C 버스 1 연결 실패: [Errno 2] No such file or directory
사용 가능한 I2C 버스가 없습니다.
```

### 💡 개발자 팁

- 모킹 모드는 **개발 및 테스트 목적**으로만 사용
- 실제 센서 연결 시에는 **정상 모드**로 실행
- 환경 변수로 간편하게 모드 전환 가능
- 가상 데이터는 **랜덤 값**으로 생성되어 실제와 유사한 테스트 가능

### 🎯 테스트 가능한 기능들

✅ I2C 디바이스 스캔  
✅ 센서 정보 표시  
✅ 디바이스 테스트  
✅ 센서 등록/수정/삭제  
✅ 웹 UI 인터랙션  
✅ API 엔드포인트  
✅ 데이터베이스 연동  

---

이제 Mac PC에서도 센서 없이 완전한 기능 테스트가 가능합니다! 🎉